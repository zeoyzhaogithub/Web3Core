# 合约部署

1、部署的时候，先部署Helper合约，然后在部署代理合约proxy
2、在Helper合约中调用getBttecode1，拿到contract1的creationcode
3、点击copy，拿到creationcode
4. 将前面拿到的creationcode传入到proxy合约的deploy,
5、点击deploy事件，就能通过代理合约部署我们的合约
6、点击下方控制台的请求信息，在最新的交易里面会有事件发出，
7、在logs数据里面的args就是新部署的合约地址
8、复制这个地址0x50C0890B4d4d1f1CBe0495ABdAa29d646e406677
9、找到合约1contract1,将地址填入at address,load合约1，然后点击at address

![合约部署顺序](./WeChat7acea28291fc7d449f64324d8c058542.jpg)

![Helper合约](./WeChat685f85306036dde15259faf5cf78ca98.jpg)

![proxy合约执行](./WeChat94f2127332240926514799d43e951fad.jpg)

![参数](./WeChate7c827b4fde72f4c1b3d2d89c7387e90.jpg)

复制参数，勾选合约1
![](./WeChat559088af0d610f7d7972ab99519cfe9f.jpg)

注意：这里只需要加载合约1，不需要部署，然后直接点击at address按钮
![](./WeChat20c750a34a8d262d705eda35d66f7541.jpg)

10、下拉到最底部，就可以看到合约1的部署结果,
![](./WeChat424ae498269c2f4a99d0062734c555b5.jpg)

11、点击owner,可以看到当前合约地址，并且这个地址和代理合约的地址是一样的
![](./WeChate2390fef87e756791ccde15bc7849fed.jpg)

12.1、必须用proxy地址来调用setOwner
12.2、先执行execute函数，参数是目标合约地址（合约1的地址），同时调用setOwner的byte字节
12.3 调用Helper合约的getCalldata，传入当前我们想要设置的地址
![](./WeChat6d0c57c3173ae76f3978ebe0f7ab30d9.jpg)

12.4 找到Helper合约，将地址填入getCalldata，点击运行，拿到构造出的calldata
![](./WeChata5ef59926faa0bcf6e57cda1ad492032.jpg)

12.5 在Proxy合约中，找到execute，这里需要两个参数

12.6 将前面构造的calldata地址复制给_data参数，将contract1的地址复制给target参数

![](./WeChat4b37379527782bfbfc9a341db73942aa.jpg)

12.7 点击transact按钮调用
![](./WeChat8832998d159effd43754ecc58918dc25.jpg)

13、调用合约2，在Helper合约里面调用getBttecode2，这里需要传入两个参数，
14、点击call调用，获取calldata
![](./WeChat0abf35916f4e5147912e30aa79e4f0a7.jpg)

15、将复制到的calldata填入到proxy合约的deploy
16、设置value值，可以转以太到账户
![](./WeChat89887ef64ccab9ffebf67c44b0548320.jpg)

17、点击proxy合约的deploy，就能通过代理合约部署我们的合约
// 18、点击下方控制台的请求信息，在最新的交易里面会有事件发出，
// 19、在logs数据里面的args就是新部署的合约地址
// 20、复制这个地址0x1de4617aa308F4070E12d01018bAf6f681448B4F
// 21、找到合约1contract2,将地址填入at address,load合约2，然后点击at address
// 22、下拉到最底部，就可以看到合约2的部署结果,
![](./WeChatb87874b2fba81e528751350a9d26e569.jpg)
